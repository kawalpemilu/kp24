<div>
@if (!service.auth.currentUser) {
    <br><br>
    <button mat-raised-button color="warn" (click)="service.login()">
        Sign In to Upload Photo
    </button>
} @else if (service.userExceedsMaxUploads()) {
    <br><br>
    Max Uploads Exceeded
} @else if (digitizing) {
    <img style="max-width: 250px; max-height: 250px;" [src]="imgURL" />
    <p>
        Masukkan jumlah suara:
    </p>
    <app-digitize
        [votes]="votes"
        [imageId]="imageId"
        (onSubmit)="onDigitized($event)"
        (onCancel)="clearState()">
    </app-digitize>
    <br><br>
} @else {
    <h3>Cara upload foto:</h3>

    <ul>
        <li>Ambil foto C1 Plano (C.HASIL-PPWP) atau C1 Rekap yang jelas menunjukkan <strong>nomor TPS</strong> dan <strong>lokasinya</strong> (kelurahan, kecamatan), beserta angka perolehan tiap pasangan calon.
          <a href="/assets/contoh-form-c1.jpeg" target="_blank" rel="noopener noreferrer" >Contoh Form C1</a>
        </li>
        <li>Pastikan angkanya telah final dan telah ditulis dalam bentuk <strong>angka</strong> (32) dan <strong>huruf</strong> (tiga puluh dua), lebih baik lagi jika sudah ditandatangani KPPS dan para Saksi.</li>
        <li>Anda bisa upload <strong>lebih dari 1 foto</strong> dari 1 TPS. Anda juga <strong>bisa upload foto dari banyak TPS</strong>. Yang penting fotonya adalah form C1, bukan foto lain.</li>
        <li>Pastikan Anda mengupload di nomor TPS yang tepat.</li>
        <li>Klik tombol di bawah untuk mulai upload</li>
    </ul>

    <input #u type="file" (change)="handleUpload($event)" style="display: none" accept="image/*" />
    <br>
    <button mat-raised-button color="primary" (click)="u.click()" style="margin-left: 10px">
        Upload Foto
    </button>
}
</div>
